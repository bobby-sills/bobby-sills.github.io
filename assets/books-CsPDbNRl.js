import{b,u as F,d as M,e as G,r as R,g as H,h as r,j as I,k as K,f as y,s as _,c as n,l as q,t as x,a as m,n as h,p as L,N as O,o as z,q as Q,v as E,i as W,m as J}from"./Nav-Nmpe-UVH.js";import{s as U}from"./style-C1mxBjnJ.js";function V(d=!1){const a=b,s=a.l.u;if(!s)return;let i=()=>I(a.s);if(d){let c=0,o={};const f=K(()=>{let v=!1;const u=a.s;for(const p in u)u[p]!==o[p]&&(o[p]=u[p],v=!0);return v&&c++,c});i=()=>r(f)}s.b.length&&F(()=>{N(a,i),R(s.b)}),M(()=>{const c=G(()=>s.m.map(H));return()=>{for(const o of c)typeof o=="function"&&o()}}),s.a.length&&M(()=>{N(a,i),R(s.a)})}function N(d,a){if(d.l.s)for(const s of d.l.s)r(s);a()}var X=y('<span style="color: var(--fg4);"> </span>'),Y=y('<span style="color: var(--fg); font-size: larger;"> </span>'),Z=y('<div id="progress-bar" class="svelte-4kajua"><div id="progress-fill" class="svelte-4kajua"></div></div>'),$=y('<div class="book-container svelte-4kajua"><div id="book-information" class="svelte-4kajua"><div style="display: flex; flex-direction: column; gap: 5px;"><span style="color: var(--fg); font-size: larger;"> </span> <span style="color: var(--fg4);"> </span></div> <!></div> <!></div>');function S(d,a){const s=()=>a.percent>=100||a.dateCompleted;var i=$(),c=n(i),o=n(c),f=n(o),v=n(f),u=_(f,2),p=n(u),C=_(o,2);{var k=e=>{var t=X(),l=n(t);x(()=>h(l,`completed ${a.dateCompleted??""}`)),m(e,t)},w=e=>{var t=Y(),l=n(t);x(g=>h(l,`${g??""}/${a.totalPages??""} pages`),[()=>Math.ceil(a.percent/100*a.totalPages)]),m(e,t)};q(C,e=>{s()?e(k):e(w,!1)})}var B=_(c,2);{var j=e=>{var t=Z(),l=n(t);let g;x(()=>g=U(l,"",g,{width:`${a.percent??""}%`})),m(e,t)};q(B,e=>{s()||e(j)})}x(()=>{h(v,a.title),h(p,`by ${a.author??""}`)}),m(d,i)}const ee=[{title:"Middlemarch",authors:"George Eliot",percentage_completed:82.37}],te={books:ee},ae=[{title:"Salem's Lot",authors:"Stephen King",pages_read:0,total_pages:653}],re=[{title:"Purple Hibiscus",authors:"Chimamanda Ngozi Adichie",date_completed:"11 Oct 2025"}],se=[{title:"All Quiet on the Western Front",authors:"Erich Maria Remarque"}],le={Middlemarch:713},P={currently_reading:ae,completed:re,want_to_read:se,page_counts:le};var ne=y('<div style="display: flex; flex-direction: column; gap: 5px; margin-bottom: 20px;"><span style="color: var(--fg); font-size: larger;"> </span> <span style="color: var(--fg4);"> </span></div>'),oe=y("<main><!> <h1>reading stats</h1> <h2>currently reading</h2> <!> <h2>completed</h2> <!> <h2>want to read</h2> <!></main>");function ie(d,a){L(a,!1);const s=te.books.map(e=>({...e,total_pages:P.page_counts[e.title]})),i=new Set(s.map(e=>e.title)),c=P.currently_reading.filter(e=>!i.has(e.title)).map(e=>({title:e.title,authors:e.authors,percentage_completed:e.pages_read/e.total_pages*100,total_pages:e.total_pages})),o=P.completed.filter(e=>!i.has(e.title)).map(e=>({title:e.title,authors:e.authors,percentage_completed:100,date_completed:e.date_completed})),f=P.want_to_read.map(e=>({title:e.title,authors:e.authors})),v=[...s,...c,...o],u=v.filter(e=>e.percentage_completed<100),p=v.filter(e=>e.percentage_completed>=100);V();var C=oe(),k=n(C);O(k,{currentPage:"books"});var w=_(k,6);z(w,1,()=>u,e=>e.title,(e,t)=>{{let l=E(()=>r(t).total_pages??0);S(e,{get title(){return r(t).title},get author(){return r(t).authors},get percent(){return r(t).percentage_completed},get totalPages(){return r(l)}})}});var B=_(w,4);z(B,1,()=>p,e=>e.title,(e,t)=>{{let l=E(()=>r(t).total_pages??0);S(e,{get title(){return r(t).title},get author(){return r(t).authors},get percent(){return r(t).percentage_completed},get totalPages(){return r(l)},get dateCompleted(){return r(t).date_completed}})}});var j=_(B,4);z(j,1,()=>f,e=>e.title,(e,t)=>{var l=ne(),g=n(l),T=n(g),A=_(g,2),D=n(A);x(()=>{h(T,r(t).title),h(D,`by ${r(t).authors??""}`)}),m(e,l)}),m(d,C),Q()}W();J(ie,{target:document.getElementById("app")});
